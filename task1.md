# Тест-кейсы
### TC_001 Успешная оплата банковской картой. Позитивный

Предусловия:
  - Существует заказ в статусе "Ожидает оплаты"
  - Открыта страница веб-приложения по оплате
  - Используется валидная тестовая карта

Шаги:
  1. Ввести корректные данные банковской карты: номер, срок действия, CVC, имя владельца
  2. Нажать кнопку "Оплатить"
  3. Подтвердить операцию на странице 3D secure
  4. Проверить статус заказа
  5. Проверить привязанный email пользователя на получение чека об оплате

Ожидаемый результат:
  1. Валидация данных проходит без ошибок
  2. Данные карты отправляются в платежный шлюз, в Network виден запрос. Редирект на 3D secure (если требуется)
  3. Платёжный шлюз возвращает результат: Успешно. Отображается сообщение об успешной оплате на UI
  4. Статус заказа обновляется на "Оплачен"
  5. Чек об оплате отправлен на email


### TC_002 Оплата картой отклонена банком. Негативный

Предусловия:
  - Существует заказ в статусе "Ожидает оплаты"
  - Открыта страница веб-приложения по оплате
  - Используется тестовая карта со статусом decline

Шаги:
  1. Ввести корректные данные банковской карты: номер, срок действия, CVC, имя владельца
  2. Нажать кнопку "Оплатить"
  3. Подтвердить операцию на странице 3D secure
  4. Проверить статус заказа
  5. Проверить привязанный email пользователя на отсутствие чека об оплате

Ожидаемый результат:
  1. Валидация данных проходит
  2. Данные карты отправляются в платежный шлюз, в Network виден запрос. Редирект на 3D secure
  3. Платежный шлюз возвращает статус "Отклонено банком". Пользователю отображается сообщение об ошибке оплаты.
  4. Статус заказа "Ожидает оплаты"
  5. Чек на email не отправляется

### TC_003 Ошибка платежного сервиса при оплате. Негативный

Предусловия:
  - Существует оформленный заказ в статусе "Ожидает оплаты"
  - Открыта страница веб-приложения по оплате
  - Платежный шлюз настроен на Status code 500

Шаги:
  1. Ввести корректные данные банковской карты: номер, срок действия, CVC, имя владельца
  2. Нажать кнопку "Оплатить"
  3. Проверить статус заказа
  4. Проверить привязанный email пользователя на отсутствие чека об оплате

Ожидаемый результат:
  1. Валидация данных проходит
  2. В Network виден запрос, Status code 500. Отображается сообщение "Ошибка платежного сервиса".
  3. Статус заказа не меняется ("Ожидает оплаты")
  4. Чек на email не отправляется

### TC_004 Клиентская валидация пустых полей. Негативный

Предусловия:
  - Открыта страница веб-приложения по оплате
  - Открыт DevTools на вкладке Network

Шаги:
  1. Оставить все поля (номер, срок действия, CVC, имя владельца) пустыми
  2. Нажать кнопку "Оплатить"

Ожидаемый результат:
  1. Все поля пустые
  2. Под каждым полем сообщение об обязательности заполнения полей. Запрос в платежный шлюз не отправляется (в Network нет запроса). Кнопка блокируется.

### TC_005 Клиентская валидация некорректный CVC. Негативный

Предусловия:
  - Открыта страница веб-приложения по оплате
  - Открыт DevTools на вкладке Network

Шаги:
  1. Ввести корректные данные банковской карты: номер, срок действия, имя владельца. В поле CVC ввести короткий, например две цифры
  2. Нажать кнопку "Оплатить"
  3. Вернуться к форме по оплате. Очистить CVC
  4. Ввести корректные данные банковской карты: номер, срок действия, имя владельца. В поле CVC длинный, например пять цифр
  5. Нажать кнопку "Оплатить"

Ожидаемый результат:
  1. Данные введены
  2. Под полем CVC сообщение что CVC должно содержать три цифры. Запрос не отправляется.
  3. Открыта страница веб-приложения по оплате, поле CVC очищено
  4. Под полем CVC сообщение что CVC должно содержать три цифры
  5. Запрос в Network не отправляется

### TC_006
Название: Граничных значениия срока действия карты

Предусловия:
  - Открыта страница веб-приложения по оплате
  - Открыт DevTools на вкладке Network

Шаги:
  1. Ввести корректный номер карты, CVC, имя. В поле "Срок действия" ввести текущий месяц и год (не истекший)
  2. Нажать кнопку "Оплатить". Проверить валидацию
  3. Вернуться к форме по оплате
  4. Ввести корректный номер, CVC, имя. В поле "Срок действия" ввести дату меньше текущей (истекший)
  5. Нажать кнопку "Оплатить"

Ожидаемый результат:
  1. Валидация данных проходит успешно
  2. Данные карты отправляются в платежный шлюз. Запрос в Network отправляется
  3. Открыта страница веб-приложения по оплате
  4. Введенный срок действия карты не валидируется, отображается ошибка
  5. Запрос в Network не отправляется

### TC_007 Отправка данных в платежный шлюз. Позитивный

Предусловия:
  - Существует заказ в статусе "Ожидает оплаты"
  - Открыта страница веб-приложения по оплате
  - Открыт DevTools на вкладке Network

Шаги:
  1. Ввести корректные данные банковской карты: номер, срок действия, CVC, имя владельца
  2. Нажать кнопку "Оплатить". Проверить вкладку Network

Ожидаемый результат:
  1. Валидация данных проходит успешно
  2. В Network отображается HTTP-запрос POST к платежному шлюзу (URL шлюза, payload с данными карты). Status code 200